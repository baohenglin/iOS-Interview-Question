## 知识点18 第三方库 & 组件化

**【扩展 18-1】介绍自己用过哪些开源库？**

* Masonry：OC版屏幕布局适配的三方框架。
* SnapKit：Swift版屏幕布局适配的三方框架。
* AFNetWorking：一款轻量级的网络请求框架。
* MKNetworkKit：基于objective-C语言的网络请求库。
* Alamofire：基于Swift语言的网络请求库。
* Mantle：Json转Model的框架。
* YYModel：JSON转Model的框架。
* SDWebImage：一款功能强大的网络图片加载及缓存框架。



**【扩展 18-2】读过某个库的源码么？**

* AFNetworking
* SDWebImage
* YYKit

**【扩展 18-3】SDWebImage 下载了图片后为什么要解码？**

一般下载或者从磁盘获取的图片是PNG或者JPG(因为位图体积很大，所以磁盘缓存不会直接缓存位图数据，而是编码压缩后的PNG或JPG数据)，这是经过编码压缩后的图片数据，不是位图，要把它们渲染到屏幕前就需要进行解码转成位图数据，而这个解码操作比较耗时。也就是说，图片在远端存储一定都是编码后存储的，这样体积小，一个图像可以看做是一个图像文件，里面包含了文件头，文件体和文件尾，图像的数据就包含在文件体中，而我们的解码就是运用算法将文件体中的图像数据转化为位图数据，方便渲染和展示。

[SDWebImage探究](https://www.jianshu.com/p/d527ff0c4950)

**【扩展 18-4】项目有没有做过组件化？或者你是否调研过？**

组件化核心技术是一套路由方案实现完全解耦，这样就可以根据自己的业务功能模块化并行开发。主要还是根据自己业务划分不同的组件，组件粒度大小的掌握是难点。组件之间的解耦和依赖是难点。

路由方案可以自己实现也可以借鉴蘑菇街和casetwy的路由方案。casetwy是Category和Target_Action的方式实现组件之间的解耦和组件之间的通信的。CTMediator内部用runtime实现参数的传递，Target实现事件的分发。CTMediator+ACategory实现功能组件的解耦。

[iOS组件化](https://juejin.im/post/58b2aad6b123db0052cc9edd)

[蘑菇街App组件化之路](https://limboy.me/tech/2016/03/10/mgj-components.html)



**【扩展 18-5】如果让你实现 NSNotificationCenter，讲一下思路**

[NSNotificationCenter实现原理](https://www.jianshu.com/p/051a9a3af1a4)


## 知识点19 Swift

**【扩展 19-1】Swift 中 struct(结构体) 和 class(类) 的区别？**

**struct(结构体) 和 class(类) 的区别：**

* 类(class)是引用类型，结构体(struct)是值类型；
* 类存储在堆（heap）上，而结构体实存储在栈（stack）上。相比于栈上的操作，堆上的操作更加复杂耗时，所以苹果官方推荐使用结构体，这样可以提高 App 运行的效率。
* class可以继承，而结构体不能；
* class可以用deinit来释放资源，而结构体不能；
* 结构体构造函数, 会自动生成带参数的构造器。类不会对有初始化赋值的属性, 生成带参数的构造器。

[Swift 中 struct(结构体) 和 class(类) 的区别](https://www.jianshu.com/p/a9420d8bcf40)

**【扩展 19-2】Swift 是如何实现多态的？**

**【扩展 19-3】Swift 和 OC，各自的优缺点有哪些？**

**Swift的优点**：

* 语法更简洁；
* Swift 语言支持函数式编程，而OC只有引入ReactiveCocoa这个库才可支持函数式编程；
* Swift语言更安全。它是类型安全的语言。
* Swift开源
* Swift可跨平台
* Swift代码更少，简洁的语法，可以省去大量冗余代码。
* Swift速度更快，运算性能更高。

**Swift的缺点**：

* 第三方库的支持不够多；
* 版本不够稳定；
* App体积变大；
* 上线方式改变。不能使用application Loader上传包文件，会提示你丢失了swift support files，应该使用xcode直接上传。



**【扩展 19-4】用 Alamofire 比直接使用 URLSession，优势是什么？**


## 知识点20 开放性问题

**【扩展 20-1】哪一个项目技术点最能体现自己的技术实力？具体讲一下。**

**【扩展 20-2】你在项目中遇到的最大的问题是什么？你是怎么解决的？**

* 如何监测和定位并解决卡顿？
* 如何优化TableView列表？
* 如何监控并优化App的启动速度？
* 如何实现无侵入埋点？
* 如何全面监控各种崩溃？
* 如何获取App中的全量日志？


**【扩展 20-3】你是如何学习 iOS 的？**

* 查阅[苹果官方开发文档](https://developer.apple.com/documentation/)。苹果的官方文档相当详尽，对于不熟悉的 API，阅读官方文档也是最直接有效地方式。
* 观看WWDC视频。由于 iOS 开发在快速发展，每年苹果都会给我们带来很多新的知识。而对于这些知识，第一手的资料就是 WWDC 的视频。
* 通过书籍学习。比如《Objective-C高级编程 iOS与OS X多线程和内存管理》、《编写高质量iOS与OS X代码的52个有效方法》、《图解HTTP》、《程序员的自我修养——链接、装载与库》；
* 通过做项目，多写代码，多思考。“在多写代码的同时，我们也要注意不要 “ 重复造轮子 “，尽量保证每次写的代码都能具有复用性。在代码结构因为业务需求需要变更时，及时重构，在不要留下技术债的同时，我们也要多思考如何设计应用架构，能够保证满足灵活多变的产品需求。”
* 通过阅读优秀技术博客。
* 看开源项目的代码。阅读优秀的开源项目代码，不但可以学习到 iOS 开发本身的基本知识，还能学习到设计模式等软件架构上的知识。
* 写博客。[我的Github技术博客](https://github.com/baohenglin)
* 多和同行交流。可以在一些技术社区交流，比如[stackoverflow](http://www.stackoverflow.com)

**【扩展 20-4】和产品经理、测试产生冲突时，你是怎么解决的？**

* 积极沟通，确定问题出在什么地方。
* 组成小组讨论解决方案。
* 沟通过程中尽量保持心平气和。
