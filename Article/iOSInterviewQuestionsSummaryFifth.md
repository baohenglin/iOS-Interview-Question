## 知识点14. 修饰符

**【扩展 14-1】讲一下iOS属性修饰符atomic的实现机制(内部是怎么实现的)；为什么不能保证绝对的线程安全（最好可以结合场景来说）？**

atomic表示原子操作，系统会为setter方法加锁，具体适用@synchronized(self){//code},保证读写互斥，即读取的时候不能修改值，修改值的时候不能读取，以保证线程安全。

使用atomic并不能保证绝对的线程安全。因为atomic只能保证对属性的读写是原子性的，但是仍然可能出现线程错误。比如：当线程A进行写操作时，其他线程的读或者写操作会因为该操作而等待，当A线程的写操作结束后，B线程进行写操作，然后当A线程需要读操作时，却获取了在B线程中的值，这就破坏了线程安全。如果有线程C在A线程读操作之前release了该属性，那么将会导致程序崩溃。所以仅仅使用atomic并不能保证线程安全，只是保证了属性getter和setter方法的线程安全。
