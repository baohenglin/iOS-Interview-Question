## 知识点17  操作系统与编译原理

**【扩展 17-1】源代码是怎么变成可执行文件的？每一步的作用是什么？**

源代码变成可执行文件需要经过以下过程：

* (1)预编译：负责这一步工作的叫“预编译器”。它主要负责处理所有的#define宏定义；所有的预编译指令，比如#if、#endif等。接下来会递归处理#include指令，用被包含的文件替换这个预编译指令。.c文件经过预编译，变为.i文件。
* (2)编译：这一步由编译器负责，编译过程就是把预处理完的文件进行一系列词法分析、语法分析、语义分析、优化及生成汇编代码文件。.i文件经过编译，得到汇编文件，后缀是.s。

  ✅词法分析———识别源代码中的各种括号、数字、标点等。比如有(但没有)，这一步就能发现错误。
  
  ✅语法分析———这一步会通过语法分析器(Grammar Parser)会生成语法树，比如2+4就是一颗根节点为+，左右叶节点分别为2和4的语法树。如果你只是写2+，在这一步就会报错。
  
  ✅语义分析———此步骤由语义分析器(Semantic Analyzer)来完成。这一步主要考虑类型声明、匹配和转换。比如你写2 * "3"在这一步就会报错。
  
  ✅中间语言生成———这一步会生成跟目标机器和运行时环境无关的三地址码(Three-address Code)，比如2 + 3会写成t1 = 2 + 3，同时也会把一些在编译期就可以确定的表达式进行优化。
  
  ✅目标代码生成———编译器根据三地址码生成依赖于目标机器的目标机器代码，也就是汇编语言。
  
* (3)汇编：这一步由汇编器负责，将汇编语言转换成机器可以执行的语言(完全由0和1组成).汇编文件经过汇编，变成目标文件，后缀为.o。
* (4)链接：就是处理如何把多个目标文件链接起来。由于一个.c文件可能用到了另一个.c文件中的变量或函数。在编译这个文件时，我们无法在编译期确定这个变量或函数的地址。只有在把所有目标文件链接起来以后，才能确定。链接器主要负责地址重分配、符号名称绑定和重定位。

**【扩展 17-2】静态链了解么？静态库和动态库的区别？**

**静态库**：链接时完整地拷贝至可执行文件中，被多次使用就有多份冗余拷贝。

**动态库**：链接时不复制，程序运行时由系统动态加载到内存，供程序调用，系统只加载一次，多个程序共用，节省内存。


**【扩展 17-3】内存的几大区域，各自的职能分别是什么？**

参考[【扩展 11-1】介绍下内存的几大区域？](https://github.com/baohenglin/iOS-Interview-Question/blob/master/Article/iOSInterviewQuestionsSummaryFour.md)

**【扩展 17-4】static和const有什么区别？**

static:修饰全局变量,全局变量只能在当前文件下使用。
    
const:被它修饰的变量,是只读的变量。

**【扩展 17-5】了解内联函数么？**

**【扩展 17-6】了解编译的过程么？分为哪几个步骤？**

同【扩展 17-1】

**【扩展 17-7】应用层、API、运行库、系统调用、操作系统内核之间的关系是什么？**

**【扩展 17-8】虚拟内存空间是什么，为什么要有虚拟内存空间？**

**【扩展 17-9】静态链接和动态链接分别表示什么，大概是怎么实现的？**

**【扩展 17-10】可执行文件的结构如何？（分为哪些段）**

**【扩展 17-11】它是怎么装载进内存的，为什么要分段，分页，页错误是什么？**

**【扩展 17-12】进程的内存格局是怎样的？（堆、栈、全局/静态区，代码区，常量区）**

**【扩展 17-13】堆和栈的区别，函数调用和栈的关系？**

**【扩展 17-14】进程和线程的区别？**

**【扩展 17-15】异步和同步，串行，并发，并行的区别？**

**【扩展 17-16】多并发任务，仅多线程能加快速度么（不能，会变慢，有线程切换的开销）？**

**【扩展 17-17】多个线程之间可以共享哪些数据？**

**【扩展 17-18】进程之间如何通信？**

**【扩展 17-19】介绍几种锁，他们的用途和区别？**


## 知识点18 第三方库 & 组件化

**【扩展 18-1】介绍自己用过哪些开源库？**

Masonry 和 SnapKit，AFNetWorking，MKNetworkKit，Alamofire，Mantle，SDWebImage

JSON转Model的框架：YYModel、Mantle。

**【扩展 18-2】读过某个库的源码么？**

**【扩展 18-3】SDWebImage 下载了图片后为什么要解码？**

**【扩展 18-4】项目有没有做过组件化？或者你是否调研过？**

**【扩展 18-5】如果让你实现 NSNotificationCenter，讲一下思路**




## 知识点19 Swift

**【扩展 19-1】Swift 中 struct 和 class 的区别？**

**【扩展 19-2】Swift 是如何实现多态的？**

**【扩展 19-3】Swift 和 OC，各自的优缺点有哪些？**

**【扩展 19-4】用 Alamofire 比直接使用 URLSession，优势是什么？**


## 知识点20 开放性问题

**【扩展 20-1】哪一个项目技术点最能体现自己的技术实力？具体讲一下。**

**【扩展 20-2】你在项目中遇到的最大的问题是什么？你是怎么解决的？**

**【扩展 20-3】你是如何学习 iOS 的？**

**【扩展 20-4】和产品经理、测试产生冲突时，你是怎么解决的？**
